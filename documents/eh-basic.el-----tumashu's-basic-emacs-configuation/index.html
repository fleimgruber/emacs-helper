<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>eh-basic.el --- Tumashu&#39;s basic emacs configuation - Emacs-helper</title>
    <meta charset="utf-8" />
    <meta name="author" content="Feng Shu" />
    <link rel="stylesheet" href="https://tumashu.github.io/emacs-helper/media/css/main.css" type="text/css">
  </head>
<body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="https://tumashu.github.io/emacs-helper/">Emacs-helper</a> <span class="subtitle">(Tumashu 的 emacs 配置)</span></h1>
        <ul>
          <li><a href="https://tumashu.github.io/emacs-helper/documents/">Documents</a></li>
          <li><a href="https://tumashu.github.io/emacs-helper/tags/">Tags</a></li>
          <li><a href="https://tumashu.github.io/emacs-helper/about/">About</a></li>
          <li><a href="https://github.com/tumashu/emacs-helper">GitHub</a></li>
          <li><a href="https://tumashu.github.io/emacs-helper/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="http://www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="tumashu.github.io/emacs-helper">
        </form>
      </header>
    </div>

<div class="content-and-footer">
<div>
<div class="post">
<h1 class="post-title">eh-basic.el --- Tumashu&#39;s basic emacs configuation</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc0ab0ff">1. 简介</a></li>
<li><a href="#org01ebb4e">2. 代码</a>
<ul>
<li><a href="#org80da307">2.1. 设置 load-path</a></li>
<li><a href="#orga4b1d39">2.2. Full name and Email</a></li>
<li><a href="#org5aa1543">2.3. 启动时默认打开的 buffer.</a></li>
<li><a href="#orgc032d70">2.4. 使用空格缩进</a></li>
<li><a href="#orgc7eecb4">2.5. 关闭 beep</a></li>
<li><a href="#orgd23d9a1">2.6. 让 <b>scratch</b> buffer 无法删除</a></li>
<li><a href="#orged8e1e5">2.7. 使用 use-package</a></li>
<li><a href="#org22a9bae">2.8. 设置 emacs 包管理器</a></li>
<li><a href="#org2ebcb40">2.9. 设置主题</a></li>
<li><a href="#org91c5ed6">2.10. 启用 async</a></li>
<li><a href="#orgdcb3b46">2.11. 设置 elpa-mirror</a></li>
<li><a href="#orgd40062c">2.12. 设置 Charset</a></li>
<li><a href="#org41afdfb">2.13. 保存文件之前，删除无用的空格</a></li>
<li><a href="#orgf8a4c35">2.14. 设置 Eshell</a></li>
<li><a href="#org53a4b28">2.15. 设置 EWW</a></li>
<li><a href="#org8574d98">2.16. 设置拼音输入法</a></li>
<li><a href="#orge43c65c">2.17. 设置中文字体</a></li>
<li><a href="#org1790b99">2.18. 设置 recentf</a></li>
<li><a href="#orgb0d3a70">2.19. 设置 ibuffer</a></li>
<li><a href="#orge9dd29d">2.20. 设置区域选择快捷键</a></li>
<li><a href="#orga84fe6a">2.21. 关闭 tool-bar</a></li>
<li><a href="#org34068a1">2.22. 关闭 menu-bar</a></li>
<li><a href="#orgea95e78">2.23. 关闭 scroll-bar</a></li>
<li><a href="#org3a3e053">2.24. 配对括号高亮显示</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgc0ab0ff" class="outline-2">
<h2 id="orgc0ab0ff"><span class="section-number-2">1</span> 简介</h2>
<div class="outline-text-2" id="text-1">
<p>
这个文件是tumashu个人专用的emacs配置文件，emacs中文用户可以参考。
</p>
</div>
</div>

<div id="outline-container-org01ebb4e" class="outline-2">
<h2 id="org01ebb4e"><span class="section-number-2">2</span> 代码</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">require</span> '<span style="color: #96CBFE;">cl-lib</span>)
(<span style="color: #4c83ff;">require</span> '<span style="color: #96CBFE;">eh-functions</span>)
</pre>
</div>
</div>

<div id="outline-container-org80da307" class="outline-3">
<h3 id="org80da307"><span class="section-number-3">2.1</span> 设置 load-path</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-hack-load-path</span> ()
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">Delete buildin org's PATH</span>
  (<span style="color: #4c83ff;">setq</span> load-path
        (cl-remove-if
         #'(lambda (path)
             (string-match <span style="color: #61CE3C;">"lisp/org$"</span> path))
         load-path))
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">Demove property lists to defeat cus-load and remove autoloads</span>
  (mapatoms
   #'(lambda (sym)
       (<span style="color: #4c83ff;">let</span> ((sym-name (symbol-name sym)))
         (<span style="color: #4c83ff;">when</span> (string-match <span style="color: #61CE3C;">"^</span><span style="color: #E9C062;">\\</span><span style="color: #ff0000;">(</span><span style="color: #61CE3C;">org</span><span style="color: #E9C062;">\\</span><span style="color: #ff0000;">|</span><span style="color: #61CE3C;">ob</span><span style="color: #E9C062;">\\</span><span style="color: #ff0000;">|</span><span style="color: #61CE3C;">ox</span><span style="color: #E9C062;">\\</span><span style="color: #ff0000;">)</span><span style="color: #61CE3C;">-?"</span> sym-name)
           (setplist sym nil)
           (<span style="color: #4c83ff;">when</span> (autoloadp sym)
             (unintern sym)))))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-update-load-path</span> ()
  (<span style="color: #4c83ff;">interactive</span>)
  (<span style="color: #4c83ff;">let</span> (dirs)
    (<span style="color: #4c83ff;">dolist</span> (x '(<span style="color: #61CE3C;">"~"</span> <span style="color: #61CE3C;">"c:"</span> <span style="color: #61CE3C;">"d:"</span> <span style="color: #61CE3C;">"e:"</span> <span style="color: #61CE3C;">"f:"</span> <span style="color: #61CE3C;">"g:"</span> <span style="color: #61CE3C;">"h:"</span> <span style="color: #61CE3C;">"i:"</span>))
      (<span style="color: #4c83ff;">push</span> (file-name-as-directory
             (concat x <span style="color: #61CE3C;">"/projects/emacs-packages"</span>)) <span style="color: #ff69b4;">dirs)</span>
      (<span style="color: #4c83ff;">push</span> (file-name-as-directory
             (concat x <span style="color: #61CE3C;">"/project/emacs-packages"</span>)) <span style="color: #ff69b4;">dirs))</span>
    (<span style="color: #4c83ff;">dolist</span> (dir dirs)
      (<span style="color: #4c83ff;">when</span> (file-directory-p dir)
        (<span style="color: #4c83ff;">dolist</span> (x (directory-files dir t))
          (<span style="color: #4c83ff;">when</span> (<span style="color: #4c83ff;">and</span> (file-directory-p x)
                     (not (string-match-p <span style="color: #61CE3C;">"/\\.$"</span> x))
                     (not (string-match-p <span style="color: #61CE3C;">"/\\.\\.$"</span> x)))
            (add-to-list 'load-path x))))))
  (eh-hack-load-path))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(eh-update-load-path)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4b1d39" class="outline-3">
<h3 id="orga4b1d39"><span class="section-number-3">2.2</span> Full name and Email</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">setq</span> user-full-name <span style="color: #61CE3C;">"Feng Shu"</span>)
(<span style="color: #4c83ff;">setq</span> user-mail-address <span style="color: #61CE3C;">"tumashu@163.com"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5aa1543" class="outline-3">
<h3 id="org5aa1543"><span class="section-number-3">2.3</span> 启动时默认打开的 buffer.</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">setq</span> inhibit-startup-screen t)
(<span style="color: #4c83ff;">setq</span> initial-buffer-choice nil)
(<span style="color: #4c83ff;">setq</span> initial-scratch-message
      <span style="color: #61CE3C;">";; This is *scratch* buffer.\n\n"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc032d70" class="outline-3">
<h3 id="orgc032d70"><span class="section-number-3">2.4</span> 使用空格缩进</h3>
<div class="outline-text-3" id="text-2-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">setq-default</span> indent-tabs-mode nil)
(<span style="color: #4c83ff;">setq-default</span> tab-width 4)
(<span style="color: #4c83ff;">setq</span> tab-width 4)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc7eecb4" class="outline-3">
<h3 id="orgc7eecb4"><span class="section-number-3">2.5</span> 关闭 beep</h3>
<div class="outline-text-3" id="text-2-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">setq</span> visible-bell t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd23d9a1" class="outline-3">
<h3 id="orgd23d9a1"><span class="section-number-3">2.6</span> 让 <b>scratch</b> buffer 无法删除</h3>
<div class="outline-text-3" id="text-2-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-unkillable-scratch-buffer</span> ()
  (<span style="color: #4c83ff;">if</span> (string= (buffer-name (current-buffer)) <span style="color: #61CE3C;">"*scratch*"</span>)
      (<span style="color: #4c83ff;">progn</span>
        (delete-region (point-min) (point-max))
        (insert initial-scratch-message)
        nil)
    t))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'kill-buffer-query-functions
          #'eh-unkillable-scratch-buffer)
</pre>
</div>
</div>
</div>

<div id="outline-container-orged8e1e5" class="outline-3">
<h3 id="orged8e1e5"><span class="section-number-3">2.7</span> 使用 use-package</h3>
<div class="outline-text-3" id="text-2-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">require</span> '<span style="color: #96CBFE;">use-package</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org22a9bae" class="outline-3">
<h3 id="org22a9bae"><span class="section-number-3">2.8</span> 设置 emacs 包管理器</h3>
<div class="outline-text-3" id="text-2-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">package</span>
  <span style="color: #4c83ff;">:config</span>
  (package-initialize)

  (<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-elpa-directory</span> ()
    <span style="color: #FBDE2D;">"&#36820;&#22238; emacs-helper &#20869;&#32622; elpa &#38236;&#20687;&#30340;&#30446;&#24405;&#12290;"</span>
    (file-name-as-directory
     (concat
      (file-name-directory
       (locate-library <span style="color: #61CE3C;">"eh-basic.el"</span>))
      <span style="color: #61CE3C;">"elpa/"</span>)))

  (<span style="color: #4c83ff;">setq</span> package-archives
        `((<span style="color: #61CE3C;">"eh-elpa"</span> . ,(eh-elpa-directory))
          (<span style="color: #61CE3C;">"melpa-cn"</span> . <span style="color: #61CE3C;">"http://elpa.emacs-china.org/melpa/"</span>)
          (<span style="color: #61CE3C;">"org-cn"</span>   . <span style="color: #61CE3C;">"http://elpa.emacs-china.org/org/"</span>)
          (<span style="color: #61CE3C;">"gnu-cn"</span>   . <span style="color: #61CE3C;">"http://elpa.emacs-china.org/gnu/"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2ebcb40" class="outline-3">
<h3 id="org2ebcb40"><span class="section-number-3">2.9</span> 设置主题</h3>
<div class="outline-text-3" id="text-2-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">cyberpunk-theme</span>
  <span style="color: #4c83ff;">:config</span>
  (add-hook 'after-init-hook
            #'(lambda ()
                (load-theme 'cyberpunk t))))
</pre>
</div>
</div>
</div>
<div id="outline-container-org91c5ed6" class="outline-3">
<h3 id="org91c5ed6"><span class="section-number-3">2.10</span> 启用 async</h3>
<div class="outline-text-3" id="text-2-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">async</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcb3b46" class="outline-3">
<h3 id="orgdcb3b46"><span class="section-number-3">2.11</span> 设置 elpa-mirror</h3>
<div class="outline-text-3" id="text-2-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">elpa-mirror</span>
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-elpa-mirror</span> ()
    (<span style="color: #4c83ff;">interactive</span>)
    (<span style="color: #4c83ff;">let</span> ((directory (file-name-as-directory (eh-elpa-directory))))
      (<span style="color: #4c83ff;">when</span> (y-or-n-p (format <span style="color: #61CE3C;">"&#26356;&#26032; emacs-helper/elpa &#30446;&#24405;&#65306;%S ? "</span> directory))
        (<span style="color: #4c83ff;">when</span> (file-directory-p directory)
          (delete-directory directory t))
        (make-directory directory t))
      (elpamr-create-mirror-for-installed directory))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd40062c" class="outline-3">
<h3 id="orgd40062c"><span class="section-number-3">2.12</span> 设置 Charset</h3>
<div class="outline-text-3" id="text-2-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">mule</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>

  (set-language-environment <span style="color: #61CE3C;">"UTF-8"</span>)
  (set-buffer-file-coding-system 'utf-8-unix)
  (set-clipboard-coding-system 'utf-8-unix)
  (set-file-name-coding-system 'utf-8-unix)
  (set-keyboard-coding-system 'utf-8-unix)
  (set-next-selection-coding-system 'utf-8-unix)
  (set-selection-coding-system 'utf-8-unix)
  (set-terminal-coding-system 'utf-8-unix)

  (<span style="color: #4c83ff;">when</span> (eq system-type 'windows-nt)
    (set-language-environment <span style="color: #61CE3C;">"Chinese-GBK"</span>)
    (set-selection-coding-system 'gbk-dos)
    (set-next-selection-coding-system 'gbk-dos)
    (set-clipboard-coding-system 'gbk-dos)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org41afdfb" class="outline-3">
<h3 id="org41afdfb"><span class="section-number-3">2.13</span> 保存文件之前，删除无用的空格</h3>
<div class="outline-text-3" id="text-2-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">files</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#20351;&#29992;&#19979;&#38754;&#36825;&#19968;&#34892;&#37197;&#32622;&#21518;&#65292;org-mode &#30340;&#28304;&#20195;&#30721;&#24635;&#26159;&#33707;&#21517;&#20854;&#22937;&#30340;</span>
  <span style="color: #8B8989; font-style: italic;">;;     </span><span style="color: #8B8989; font-style: italic;">(add-hook 'before-save-hook #'whitespace-cleanup)</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#26356;&#25913;&#65292;&#36825;&#20250;&#23548;&#33268;&#29983;&#25104;&#30340; diff &#30456;&#24403;&#20081;&#12290;</span>
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">whitespace</span>
    <span style="color: #4c83ff;">:ensure</span> nil)
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">simple</span>
    <span style="color: #4c83ff;">:ensure</span> nil
    <span style="color: #4c83ff;">:config</span>
    (add-hook 'before-save-hook
              #'(lambda ()
                  (delete-trailing-whitespace)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8a4c35" class="outline-3">
<h3 id="orgf8a4c35"><span class="section-number-3">2.14</span> 设置 Eshell</h3>
<div class="outline-text-3" id="text-2-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">eshell</span>
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x c"</span> . eshell))
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">em-term</span> <span style="color: #4c83ff;">:ensure</span> nil)
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">em-unix</span> <span style="color: #4c83ff;">:ensure</span> nil)
  (<span style="color: #4c83ff;">setq</span> eshell-visual-commands
        (append '(<span style="color: #61CE3C;">"top"</span> <span style="color: #61CE3C;">"htop"</span> <span style="color: #61CE3C;">"aptitude"</span> <span style="color: #61CE3C;">"mutt"</span>
                  <span style="color: #61CE3C;">"nano"</span> <span style="color: #61CE3C;">"crontab"</span> <span style="color: #61CE3C;">"vim"</span> <span style="color: #61CE3C;">"less"</span> <span style="color: #61CE3C;">"zile"</span>)
                eshell-visual-commands))
  (<span style="color: #4c83ff;">setq</span> eshell-visual-subcommands
        (list (append '(<span style="color: #61CE3C;">"sudo"</span>) eshell-visual-commands)
              '(<span style="color: #61CE3C;">"git"</span> <span style="color: #61CE3C;">"log"</span> <span style="color: #61CE3C;">"diff"</span> <span style="color: #61CE3C;">"show"</span> <span style="color: #61CE3C;">"grep"</span>
                <span style="color: #61CE3C;">"commit"</span> <span style="color: #61CE3C;">"rebase"</span> <span style="color: #61CE3C;">"pull"</span> <span style="color: #61CE3C;">"push"</span>)))
  (<span style="color: #4c83ff;">setq</span> eshell-visual-options
        '((<span style="color: #61CE3C;">"git"</span> <span style="color: #61CE3C;">"--help"</span> <span style="color: #61CE3C;">"--paginate"</span>)))
  (<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-eshell</span> (<span style="color: #afd8af;">&amp;optional</span> arg)
    (<span style="color: #4c83ff;">interactive</span>)
    <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#20351;&#29992;eshell-exec-visual&#31532;&#19968;&#27425;&#25171;&#24320;term&#26102;&#65292;</span>
    <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#19981;&#33021;&#20351;&#29992;multi-term&#30340;&#38190;&#30424;&#32465;&#23450;&#65292;&#21407;&#22240;&#19981;&#30693;&#65292;</span>
    <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#39318;&#20808;&#36816;&#34892;&#19968;&#19979;less, &#20174;&#32780;&#35753;multi-term&#30340;&#38190;&#30424;&#32465;&#23450;&#29983;&#25928;&#12290;</span>
    (eshell-command <span style="color: #61CE3C;">"less"</span>)
    (eshell arg)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org53a4b28" class="outline-3">
<h3 id="org53a4b28"><span class="section-number-3">2.15</span> 设置 EWW</h3>
<div class="outline-text-3" id="text-2-15">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">eww</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">setq</span> shr-width 90)
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#25628;&#29399;:  http://www.sogou.com/sogou?query=</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#30334;&#24230;:  http://m.baidu.com/ssid=0/s?word=</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#24517;&#24212;:  http://cn.bing.com/search?q=</span>
  (<span style="color: #4c83ff;">setq</span> eww-search-prefix <span style="color: #61CE3C;">"http://www.sogou.com/sogou?query="</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8574d98" class="outline-3">
<h3 id="org8574d98"><span class="section-number-3">2.16</span> 设置拼音输入法</h3>
<div class="outline-text-3" id="text-2-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">chinese-pyim</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#28608;&#27963; basedict &#35789;&#24211;</span>
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">chinese-pyim-basedict</span>
    <span style="color: #4c83ff;">:ensure</span> nil
    <span style="color: #4c83ff;">:config</span> (chinese-pyim-basedict-enable))

  (<span style="color: #4c83ff;">setq</span> default-input-method <span style="color: #61CE3C;">"chinese-pyim"</span>)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#20351;&#29992;&#20840;&#25340;</span>
  (<span style="color: #4c83ff;">setq</span> pyim-default-scheme 'quanpin)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">pyim &#25506;&#38024;&#35774;&#32622;</span>
  (<span style="color: #4c83ff;">setq-default</span> pyim-english-input-switch-functions
                '(pyim-probe-dynamic-english
                  pyim-probe-isearch-mode
                  pyim-probe-program-mode
                  pyim-probe-org-structure-template))

  (<span style="color: #4c83ff;">setq-default</span> pyim-punctuation-half-width-functions
                '(pyim-probe-punctuation-line-beginning
                  pyim-probe-punctuation-after-punctuation))

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#24320;&#21551;&#25340;&#38899;&#25628;&#32034;&#21151;&#33021;</span>
  (<span style="color: #4c83ff;">setq</span> pyim-isearch-enable-pinyin-search t)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#20351;&#29992; pupup &#26469;&#32472;&#21046;&#36873;&#35789;&#26694;&#12290;</span>
  (<span style="color: #4c83ff;">setq</span> pyim-page-tooltip 'popup)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#26174;&#31034;5&#20010;&#20505;&#36873;&#35789;&#12290;</span>
  (<span style="color: #4c83ff;">setq</span> pyim-page-length 5)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">emacs &#21551;&#21160;&#26102;&#21152;&#36733; pyim &#35789;&#24211;</span>
  (add-hook 'emacs-startup-hook
            #'(lambda ()
                (pyim-restart-1 t)))
  <span style="color: #4c83ff;">:bind</span>
  ((<span style="color: #61CE3C;">"M-j"</span> . pyim-convert-code-at-point)
   (<span style="color: #61CE3C;">"C-;"</span> . pyim-delete-word-from-personal-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge43c65c" class="outline-3">
<h3 id="orge43c65c"><span class="section-number-3">2.17</span> 设置中文字体</h3>
<div class="outline-text-3" id="text-2-17">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">chinese-fonts-setup</span>
  <span style="color: #4c83ff;">:demand</span> t
  <span style="color: #4c83ff;">:init</span> (<span style="color: #4c83ff;">setq</span> cfs-verbose nil)
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">setq</span> cfs-use-face-font-rescale
        (eq system-type 'gnu/linux))
  (chinese-fonts-setup-enable)
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C--"</span> . cfs-decrease-fontsize)
         (<span style="color: #61CE3C;">"C-="</span> . cfs-increase-fontsize)
         (<span style="color: #61CE3C;">"C-+"</span> . cfs-next-profile)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1790b99" class="outline-3">
<h3 id="org1790b99"><span class="section-number-3">2.18</span> 设置 recentf</h3>
<div class="outline-text-3" id="text-2-18">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">recentf</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x f"</span> . recentf-open-files))
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">setq</span> recentf-auto-cleanup 'never)
  (recentf-mode 1)
  (<span style="color: #4c83ff;">setq</span> recentf-max-saved-items 99)
  (<span style="color: #4c83ff;">setq</span> recentf-max-menu-items 99)
  (<span style="color: #4c83ff;">setq</span> recentf-show-file-shortcuts-flag nil)
  (<span style="color: #4c83ff;">setq</span> recentf-exclude
        '(<span style="color: #61CE3C;">"COMMIT"</span> <span style="color: #61CE3C;">"autoloads"</span> <span style="color: #61CE3C;">"archive-contents"</span> <span style="color: #61CE3C;">"eld"</span> <span style="color: #61CE3C;">"newsrc"</span>
          <span style="color: #61CE3C;">".recentf"</span> <span style="color: #61CE3C;">"emacs-font-size.conf"</span>
          <span style="color: #61CE3C;">"pyim-dcache-.*"</span>))
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#33258;&#21160;&#20445;&#23384;recentf&#25991;&#20214;&#12290;</span>
  (add-hook 'find-file-hook #'recentf-save-list))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb0d3a70" class="outline-3">
<h3 id="orgb0d3a70"><span class="section-number-3">2.19</span> 设置 ibuffer</h3>
<div class="outline-text-3" id="text-2-19">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">ibuffer</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x b"</span> . ibuffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge9dd29d" class="outline-3">
<h3 id="orge9dd29d"><span class="section-number-3">2.20</span> 设置区域选择快捷键</h3>
<div class="outline-text-3" id="text-2-20">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">simple</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:init</span> (global-unset-key (kbd <span style="color: #61CE3C;">"C-x C-x"</span>))
  <span style="color: #4c83ff;">:bind</span>
  ((<span style="color: #61CE3C;">"C-x &lt;SPC&gt;"</span> . set-mark-command)
   <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">QQ &#23558;&#20250;&#22312; emacs &#20043;&#21069;&#25429;&#25417; M-w &#24555;&#25463;&#38190;&#65292;&#35760;&#24471;&#21462;&#28040;&#12290;</span>
   <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#21478;&#22806;&#32465;&#23450; C-c w &#20316;&#20026;&#22791;&#29992;&#12290;</span>
   (<span style="color: #61CE3C;">"C-c w"</span> . kill-ring-save)
   (<span style="color: #61CE3C;">"C-x C-x C-x"</span> . exchange-point-and-mark)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">rect</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x C-x &lt;SPC&gt;"</span> . rectangle-mark-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga84fe6a" class="outline-3">
<h3 id="orga84fe6a"><span class="section-number-3">2.21</span> 关闭 tool-bar</h3>
<div class="outline-text-3" id="text-2-21">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">tool-bar</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (tool-bar-mode -1)
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x k"</span> . kill-this-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org34068a1" class="outline-3">
<h3 id="org34068a1"><span class="section-number-3">2.22</span> 关闭 menu-bar</h3>
<div class="outline-text-3" id="text-2-22">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">menu-bar</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (menu-bar-mode 0)
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x k"</span> . kill-this-buffer)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea95e78" class="outline-3">
<h3 id="orgea95e78"><span class="section-number-3">2.23</span> 关闭 scroll-bar</h3>
<div class="outline-text-3" id="text-2-23">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">scroll-bar</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (scroll-bar-mode -1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3a3e053" class="outline-3">
<h3 id="org3a3e053"><span class="section-number-3">2.24</span> 配对括号高亮显示</h3>
<div class="outline-text-3" id="text-2-24">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">paren</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (show-paren-mode 1))
</pre>
</div>
</div>
</div>
</div>

</div>
</div>
    <div>
      <div class="post-meta">
        <span title="post date" class="post-info">2017-07-22</span>
        <span title="last modification date" class="post-info">2017-07-22</span>
        <span title="tags" class="post-info">N/A</span>
        <span title="author" class="post-info">Feng Shu</span>
      </div>
      <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Copyright &copy; <span id="footerYear"></span> <a href="mailto:tumashu &lt;at&gt; 163 &lt;dot&gt; com">Feng Shu</a>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          Powered by <a href="https://github.com/tumashu/org-webpage" target="_blank">org-webpage</a>
          <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
      </div>
    </div>

</div>
</body>
</html>
