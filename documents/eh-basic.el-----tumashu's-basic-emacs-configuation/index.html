<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>eh-basic.el --- Tumashu&#39;s basic emacs configuation - Emacs-helper</title>
    <meta charset="utf-8" />
    <meta name="author" content="Feng Shu" />
    <link rel="stylesheet" href="https://tumashu.github.io/emacs-helper/media/css/main.css" type="text/css">
  </head>
<body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="https://tumashu.github.io/emacs-helper/">Emacs-helper</a> <span class="subtitle">(Tumashu 的 emacs 配置)</span></h1>
        <ul>
          <li><a href="https://tumashu.github.io/emacs-helper/documents/">Documents</a></li>
          <li><a href="https://tumashu.github.io/emacs-helper/tags/">Tags</a></li>
          <li><a href="https://tumashu.github.io/emacs-helper/about/">About</a></li>
          <li><a href="https://github.com/tumashu/emacs-helper">GitHub</a></li>
          <li><a href="https://tumashu.github.io/emacs-helper/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="http://www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="tumashu.github.io/emacs-helper">
        </form>
      </header>
    </div>

<div class="content-and-footer">
<div>
<div class="post">
<h1 class="post-title">eh-basic.el --- Tumashu&#39;s basic emacs configuation</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org83e01f9">1. 简介</a></li>
<li><a href="#orgc78362c">2. 代码</a></li>
</ul>
</div>
</div>
<div id="outline-container-org83e01f9" class="outline-2">
<h2 id="org83e01f9"><span class="section-number-2">1</span> 简介</h2>
<div class="outline-text-2" id="text-1">
<p>
这个文件是tumashu个人专用的emacs配置文件，emacs中文用户可以参考。
</p>
</div>
</div>

<div id="outline-container-orgc78362c" class="outline-2">
<h2 id="orgc78362c"><span class="section-number-2">2</span> 代码</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">require</span> '<span style="color: #96CBFE;">cl-lib</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defvar</span> <span style="color: #ff69b4;">eh-directory</span>
  (file-name-directory
   (locate-library <span style="color: #61CE3C;">"eh-basic.el"</span>))
  <span style="color: #FBDE2D;">"eh-basic.el &#25991;&#20214;&#25152;&#22312;&#30340;&#30446;&#24405;&#12290;"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defvar</span> <span style="color: #ff69b4;">eh-elpa-directory</span>
  (file-name-as-directory
   (concat eh-directory <span style="color: #61CE3C;">"elpa/"</span>))
  <span style="color: #FBDE2D;">"emacs-helper &#20869;&#32622; elpa &#38236;&#20687;&#30340;&#30446;&#24405;&#12290;"</span>)
</pre>
</div>

<p>
Full name and email
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">setq</span> user-full-name <span style="color: #61CE3C;">"Feng Shu"</span>)
(<span style="color: #4c83ff;">setq</span> user-mail-address <span style="color: #61CE3C;">"tumashu@163.com"</span>)
</pre>
</div>

<p>
Startup screen
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">setq</span> inhibit-startup-screen t)
(<span style="color: #4c83ff;">setq</span> initial-buffer-choice nil)
(<span style="color: #4c83ff;">setq</span> initial-scratch-message
      <span style="color: #61CE3C;">";; This is *scratch* buffer.\n\n"</span>)
</pre>
</div>

<p>
使用空格缩进
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">setq-default</span> indent-tabs-mode nil)
(<span style="color: #4c83ff;">setq-default</span> tab-width 4)
(<span style="color: #4c83ff;">setq</span> tab-width 4)
</pre>
</div>

<p>
关闭 beep
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">setq</span> visible-bell t)
</pre>
</div>

<p>
Don't delete <b>scratch</b> buffer
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-unkillable-scratch-buffer</span> ()
  (<span style="color: #4c83ff;">if</span> (string= (buffer-name (current-buffer)) <span style="color: #61CE3C;">"*scratch*"</span>)
      (<span style="color: #4c83ff;">progn</span>
        (delete-region (point-min) (point-max))
        (insert initial-scratch-message)
        nil)
    t))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'kill-buffer-query-functions
          #'eh-unkillable-scratch-buffer)
</pre>
</div>

<p>
load-path
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defvar</span> <span style="color: #ff69b4;">eh-enable-load-path-hack</span> t)
(<span style="color: #4c83ff;">defvar</span> <span style="color: #ff69b4;">eh-enable-load-path-update</span> nil)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-hack-load-path</span> ()
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">Delete buildin org's PATH</span>
  (<span style="color: #4c83ff;">setq</span> load-path
        (cl-remove-if
         #'(lambda (path)
             (string-match <span style="color: #61CE3C;">"lisp/org$"</span> path))
         load-path))
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">Demove property lists to defeat cus-load and remove autoloads</span>
  (mapatoms
   #'(lambda (sym)
       (<span style="color: #4c83ff;">let</span> ((sym-name (symbol-name sym)))
         (<span style="color: #4c83ff;">when</span> (string-match <span style="color: #61CE3C;">"^</span><span style="color: #E9C062;">\\</span><span style="color: #ff0000;">(</span><span style="color: #61CE3C;">org</span><span style="color: #E9C062;">\\</span><span style="color: #ff0000;">|</span><span style="color: #61CE3C;">ob</span><span style="color: #E9C062;">\\</span><span style="color: #ff0000;">|</span><span style="color: #61CE3C;">ox</span><span style="color: #E9C062;">\\</span><span style="color: #ff0000;">)</span><span style="color: #61CE3C;">-?"</span> sym-name)
           (setplist sym nil)
           (<span style="color: #4c83ff;">when</span> (autoloadp sym)
             (unintern sym)))))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-update-load-path</span> ()
  (<span style="color: #4c83ff;">interactive</span>)
  (<span style="color: #4c83ff;">let</span> (dirs)
    (<span style="color: #4c83ff;">dolist</span> (x '(<span style="color: #61CE3C;">"~"</span> <span style="color: #61CE3C;">"c:"</span> <span style="color: #61CE3C;">"d:"</span> <span style="color: #61CE3C;">"e:"</span> <span style="color: #61CE3C;">"f:"</span> <span style="color: #61CE3C;">"g:"</span> <span style="color: #61CE3C;">"h:"</span> <span style="color: #61CE3C;">"i:"</span>))
      (<span style="color: #4c83ff;">push</span> (file-name-as-directory
             (concat x <span style="color: #61CE3C;">"/projects/emacs-packages"</span>)) <span style="color: #ff69b4;">dirs)</span>
      (<span style="color: #4c83ff;">push</span> (file-name-as-directory
             (concat x <span style="color: #61CE3C;">"/project/emacs-packages"</span>)) <span style="color: #ff69b4;">dirs))</span>
    (<span style="color: #4c83ff;">dolist</span> (dir dirs)
      (<span style="color: #4c83ff;">when</span> (file-directory-p dir)
        (<span style="color: #4c83ff;">dolist</span> (x (directory-files dir t))
          (<span style="color: #4c83ff;">when</span> (<span style="color: #4c83ff;">and</span> (file-directory-p x)
                     (not (string-match-p <span style="color: #61CE3C;">"/\\.$"</span> x))
                     (not (string-match-p <span style="color: #61CE3C;">"/\\.\\.$"</span> x)))
            (add-to-list 'load-path x))))))
  (<span style="color: #4c83ff;">when</span> eh-enable-load-path-hack
    (eh-hack-load-path)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">when</span> eh-enable-load-path-update
  (eh-update-load-path)
  (message <span style="color: #61CE3C;">"emacs-helper update load-path success!"</span>))
</pre>
</div>

<p>
package
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">require</span> '<span style="color: #96CBFE;">package</span>)
(<span style="color: #4c83ff;">setq</span> package-archives
      `((<span style="color: #61CE3C;">"eh-elpa"</span> . ,eh-elpa-directory)))
(package-initialize)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-packages-install</span> (packages)
  (<span style="color: #4c83ff;">let</span> ((refreshed nil))
    (<span style="color: #4c83ff;">when</span> (not package-archive-contents)
      (package-refresh-contents)
      (<span style="color: #4c83ff;">setq</span> refreshed t))
    (<span style="color: #4c83ff;">dolist</span> (pkg packages)
      (<span style="color: #4c83ff;">when</span> (<span style="color: #4c83ff;">and</span> (not (package-installed-p pkg))
                 (assoc pkg package-archive-contents))
        (<span style="color: #4c83ff;">unless</span> refreshed
          (package-refresh-contents)
          (<span style="color: #4c83ff;">setq</span> refreshed t))
        (package-install pkg)))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-update-package-archives</span> ()
  (<span style="color: #4c83ff;">interactive</span>)
  (<span style="color: #4c83ff;">setq</span> package-archives
        `((<span style="color: #61CE3C;">"eh-elpa"</span> . ,eh-elpa-directory)
          (<span style="color: #61CE3C;">"melpa-cn"</span> . <span style="color: #61CE3C;">"http://elpa.emacs-china.org/melpa/"</span>)
          (<span style="color: #61CE3C;">"org-cn"</span>   . <span style="color: #61CE3C;">"http://elpa.emacs-china.org/org/"</span>)
          (<span style="color: #61CE3C;">"gnu-cn"</span>   . <span style="color: #61CE3C;">"http://elpa.emacs-china.org/gnu/"</span>))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-package-list-packages</span> ()
  (<span style="color: #4c83ff;">interactive</span>)
  (eh-update-package-archives)
  (package-list-packages))
</pre>
</div>

<p>
安装 emacs-helper/elpa 目录下的所有的包
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-get-elpa-mirror-packages</span> ()
  (<span style="color: #4c83ff;">let</span> ((file (concat (file-name-directory eh-elpa-directory)
                      <span style="color: #61CE3C;">"archive-contents"</span>)))
    (<span style="color: #4c83ff;">when</span> (file-exists-p file)
      (mapcar #'car
              (cdr (read (<span style="color: #4c83ff;">with-temp-buffer</span>
                           (insert-file-contents file)
                           (buffer-string))))))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">defvar</span> <span style="color: #ff69b4;">eh-enable-full-install</span> nil)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">if</span> eh-enable-full-install
    (eh-packages-install
     (eh-get-elpa-mirror-packages))
  (eh-packages-install
   '(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">org-plus-contrib</span>)))
</pre>
</div>

<p>
use-package
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">require</span> '<span style="color: #96CBFE;">use-package</span>)
</pre>
</div>

<p>
Theme 设置
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">cyberpunk-theme</span>
  <span style="color: #4c83ff;">:config</span>
  (add-hook 'after-init-hook
            #'(lambda ()
                (load-theme 'cyberpunk t))))
</pre>
</div>
<p>
async
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">async</span>)
</pre>
</div>

<p>
elpa-mirror 设置
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">elpa-mirror</span>
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-update-elpa</span> ()
    (<span style="color: #4c83ff;">interactive</span>)
    (<span style="color: #4c83ff;">let*</span> ((dir (file-name-as-directory eh-elpa-directory))
           (elpamr-default-output-directory dir))
      (<span style="color: #4c83ff;">when</span> (y-or-n-p (format <span style="color: #61CE3C;">"&#26356;&#26032; emacs/elpa &#30446;&#24405;&#65306;%S ? "</span> dir))
        (<span style="color: #4c83ff;">when</span> (file-directory-p dir)
          (delete-directory dir t))
        (make-directory dir t))
      (elpamr-create-mirror-for-installed))))
</pre>
</div>

<p>
Charset 设置
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">mule</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>

  (set-language-environment <span style="color: #61CE3C;">"UTF-8"</span>)
  (set-buffer-file-coding-system 'utf-8-unix)
  (set-clipboard-coding-system 'utf-8-unix)
  (set-file-name-coding-system 'utf-8-unix)
  (set-keyboard-coding-system 'utf-8-unix)
  (set-next-selection-coding-system 'utf-8-unix)
  (set-selection-coding-system 'utf-8-unix)
  (set-terminal-coding-system 'utf-8-unix)

  (<span style="color: #4c83ff;">when</span> (eq system-type 'windows-nt)
    (set-language-environment <span style="color: #61CE3C;">"Chinese-GBK"</span>)
    (set-selection-coding-system 'gbk-dos)
    (set-next-selection-coding-system 'gbk-dos)
    (set-clipboard-coding-system 'gbk-dos)))
</pre>
</div>

<p>
保存文件之前，删除无用的空格
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">files</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#20351;&#29992;&#19979;&#38754;&#36825;&#19968;&#34892;&#37197;&#32622;&#21518;&#65292;org-mode &#30340;&#28304;&#20195;&#30721;&#24635;&#26159;&#33707;&#21517;&#20854;&#22937;&#30340;</span>
  <span style="color: #8B8989; font-style: italic;">;;     </span><span style="color: #8B8989; font-style: italic;">(add-hook 'before-save-hook 'whitespace-cleanup)</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#26356;&#25913;&#65292;&#36825;&#20250;&#23548;&#33268;&#29983;&#25104;&#30340; diff &#30456;&#24403;&#20081;&#12290;</span>
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">whitespace</span>
    <span style="color: #4c83ff;">:ensure</span> nil)
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">simple</span>
    <span style="color: #4c83ff;">:ensure</span> nil
    <span style="color: #4c83ff;">:config</span>
    (add-hook 'before-save-hook
              #'(lambda ()
                  (delete-trailing-whitespace)))))
</pre>
</div>

<p>
eshell
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">eshell</span>
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x c"</span> . eshell))
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">em-term</span> <span style="color: #4c83ff;">:ensure</span> nil)
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">em-unix</span> <span style="color: #4c83ff;">:ensure</span> nil)
  (<span style="color: #4c83ff;">setq</span> eshell-visual-commands
        (append '(<span style="color: #61CE3C;">"top"</span> <span style="color: #61CE3C;">"htop"</span> <span style="color: #61CE3C;">"aptitude"</span> <span style="color: #61CE3C;">"mutt"</span>
                  <span style="color: #61CE3C;">"nano"</span> <span style="color: #61CE3C;">"crontab"</span> <span style="color: #61CE3C;">"vim"</span> <span style="color: #61CE3C;">"less"</span> <span style="color: #61CE3C;">"zile"</span>)
                eshell-visual-commands))
  (<span style="color: #4c83ff;">setq</span> eshell-visual-subcommands
        (list (append '(<span style="color: #61CE3C;">"sudo"</span>) eshell-visual-commands)
              '(<span style="color: #61CE3C;">"git"</span> <span style="color: #61CE3C;">"log"</span> <span style="color: #61CE3C;">"diff"</span> <span style="color: #61CE3C;">"show"</span> <span style="color: #61CE3C;">"grep"</span>
                <span style="color: #61CE3C;">"commit"</span> <span style="color: #61CE3C;">"rebase"</span> <span style="color: #61CE3C;">"pull"</span> <span style="color: #61CE3C;">"push"</span>)))
  (<span style="color: #4c83ff;">setq</span> eshell-visual-options
        '((<span style="color: #61CE3C;">"git"</span> <span style="color: #61CE3C;">"--help"</span> <span style="color: #61CE3C;">"--paginate"</span>)))
  (<span style="color: #4c83ff;">defun</span> <span style="color: #ff1493;">eh-eshell</span> (<span style="color: #afd8af;">&amp;optional</span> arg)
    (<span style="color: #4c83ff;">interactive</span>)
    <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#20351;&#29992;eshell-exec-visual&#31532;&#19968;&#27425;&#25171;&#24320;term&#26102;&#65292;</span>
    <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#19981;&#33021;&#20351;&#29992;multi-term&#30340;&#38190;&#30424;&#32465;&#23450;&#65292;&#21407;&#22240;&#19981;&#30693;&#65292;</span>
    <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#39318;&#20808;&#36816;&#34892;&#19968;&#19979;less, &#20174;&#32780;&#35753;multi-term&#30340;&#38190;&#30424;&#32465;&#23450;&#29983;&#25928;&#12290;</span>
    (eshell-command <span style="color: #61CE3C;">"less"</span>)
    (eshell arg)))
</pre>
</div>

<p>
eww
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">eww</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">setq</span> shr-width 90)
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#25628;&#29399;:  http://www.sogou.com/sogou?query=</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#30334;&#24230;:  http://m.baidu.com/ssid=0/s?word=</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#24517;&#24212;:  http://cn.bing.com/search?q=</span>
  (<span style="color: #4c83ff;">setq</span> eww-search-prefix <span style="color: #61CE3C;">"http://www.sogou.com/sogou?query="</span>))
</pre>
</div>

<p>
Pinyin Input Method
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">chinese-pyim</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#28608;&#27963; basedict &#35789;&#24211;</span>
  (<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">chinese-pyim-basedict</span>
    <span style="color: #4c83ff;">:ensure</span> nil
    <span style="color: #4c83ff;">:config</span> (chinese-pyim-basedict-enable))

  (<span style="color: #4c83ff;">setq</span> default-input-method <span style="color: #61CE3C;">"chinese-pyim"</span>)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#20351;&#29992;&#20840;&#25340;</span>
  (<span style="color: #4c83ff;">setq</span> pyim-default-scheme 'quanpin)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">pyim &#25506;&#38024;&#35774;&#32622;</span>
  (<span style="color: #4c83ff;">setq-default</span> pyim-english-input-switch-functions
                '(pyim-probe-dynamic-english
                  pyim-probe-isearch-mode
                  pyim-probe-program-mode
                  pyim-probe-org-structure-template))

  (<span style="color: #4c83ff;">setq-default</span> pyim-punctuation-half-width-functions
                '(pyim-probe-punctuation-line-beginning
                  pyim-probe-punctuation-after-punctuation))

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#24320;&#21551;&#25340;&#38899;&#25628;&#32034;&#21151;&#33021;</span>
  (<span style="color: #4c83ff;">setq</span> pyim-isearch-enable-pinyin-search t)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#20351;&#29992; pupup &#26469;&#32472;&#21046;&#36873;&#35789;&#26694;&#12290;</span>
  (<span style="color: #4c83ff;">setq</span> pyim-page-tooltip 'popup)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#26174;&#31034;5&#20010;&#20505;&#36873;&#35789;&#12290;</span>
  (<span style="color: #4c83ff;">setq</span> pyim-page-length 5)

  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">emacs &#21551;&#21160;&#26102;&#21152;&#36733; pyim &#35789;&#24211;</span>
  (add-hook 'emacs-startup-hook
            #'(lambda ()
                (pyim-restart-1 t)))
  <span style="color: #4c83ff;">:bind</span>
  ((<span style="color: #61CE3C;">"M-j"</span> . pyim-convert-code-at-point)
   (<span style="color: #61CE3C;">"C-;"</span> . pyim-delete-word-from-personal-buffer)))
</pre>
</div>

<p>
Chinese fonts setup
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">chinese-fonts-setup</span>
  <span style="color: #4c83ff;">:demand</span> t
  <span style="color: #4c83ff;">:init</span> (<span style="color: #4c83ff;">setq</span> cfs-verbose nil)
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">setq</span> cfs-use-face-font-rescale
        (eq system-type 'gnu/linux))
  (chinese-fonts-setup-enable)
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C--"</span> . cfs-decrease-fontsize)
         (<span style="color: #61CE3C;">"C-="</span> . cfs-increase-fontsize)
         (<span style="color: #61CE3C;">"C-+"</span> . cfs-next-profile)))
</pre>
</div>

<p>
recentf
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">recentf</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x f"</span> . recentf-open-files))
  <span style="color: #4c83ff;">:config</span>
  (<span style="color: #4c83ff;">setq</span> recentf-auto-cleanup 'never)
  (recentf-mode 1)
  (<span style="color: #4c83ff;">setq</span> recentf-max-saved-items 99)
  (<span style="color: #4c83ff;">setq</span> recentf-max-menu-items 99)
  (<span style="color: #4c83ff;">setq</span> recentf-show-file-shortcuts-flag nil)
  (<span style="color: #4c83ff;">setq</span> recentf-exclude
        '(<span style="color: #61CE3C;">"COMMIT"</span> <span style="color: #61CE3C;">"autoloads"</span> <span style="color: #61CE3C;">"archive-contents"</span> <span style="color: #61CE3C;">"eld"</span> <span style="color: #61CE3C;">"newsrc"</span>
          <span style="color: #61CE3C;">".recentf"</span> <span style="color: #61CE3C;">"emacs-font-size.conf"</span>
          <span style="color: #61CE3C;">"pyim-dcache-.*"</span>))
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#33258;&#21160;&#20445;&#23384;recentf&#25991;&#20214;&#12290;</span>
  (add-hook 'find-file-hook #'recentf-save-list))
</pre>
</div>

<p>
ibuffer
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">ibuffer</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x b"</span> . ibuffer)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">simple</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:init</span> (global-unset-key (kbd <span style="color: #61CE3C;">"C-x C-x"</span>))
  <span style="color: #4c83ff;">:bind</span>
  ((<span style="color: #61CE3C;">"C-x &lt;SPC&gt;"</span> . set-mark-command)
   <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">QQ &#23558;&#20250;&#22312; emacs &#20043;&#21069;&#25429;&#25417; M-w &#24555;&#25463;&#38190;&#65292;&#35760;&#24471;&#21462;&#28040;&#12290;</span>
   <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#21478;&#22806;&#32465;&#23450; C-c w &#20316;&#20026;&#22791;&#29992;&#12290;</span>
   (<span style="color: #61CE3C;">"C-c w"</span> . kill-ring-save)
   (<span style="color: #61CE3C;">"C-x C-x C-x"</span> . exchange-point-and-mark)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">rect</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x C-x &lt;SPC&gt;"</span> . rectangle-mark-mode)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">tool-bar</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (tool-bar-mode -1)
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x k"</span> . kill-this-buffer)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">menu-bar</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (menu-bar-mode 0)
  <span style="color: #4c83ff;">:bind</span> ((<span style="color: #61CE3C;">"C-x k"</span> . kill-this-buffer)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">scroll-bar</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  (scroll-bar-mode -1))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #4c83ff;">use-package</span> <span style="color: #96CBFE;">paren</span>
  <span style="color: #4c83ff;">:ensure</span> nil
  <span style="color: #4c83ff;">:config</span>
  <span style="color: #8B8989; font-style: italic;">;; </span><span style="color: #8B8989; font-style: italic;">&#39640;&#20142;&#37197;&#23545;&#30340;&#25324;&#21495;</span>
  (show-paren-mode 1))
</pre>
</div>
</div>
</div>

</div>
</div>
    <div>
      <div class="post-meta">
        <span title="post date" class="post-info">2017-07-06</span>
        <span title="last modification date" class="post-info">2017-07-06</span>
        <span title="tags" class="post-info">N/A</span>
        <span title="author" class="post-info">Feng Shu</span>
      </div>
      <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Copyright &copy; <span id="footerYear"></span> <a href="mailto:tumashu &lt;at&gt; 163 &lt;dot&gt; com">Feng Shu</a>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          Powered by <a href="https://github.com/tumashu/org-webpage" target="_blank">org-webpage</a>
          <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
      </div>
    </div>

</div>
</body>
</html>
